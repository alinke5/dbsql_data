{"datasets":[{"name":"e1d10590","displayName":"product_info","query":"select \n*\n-- ,left(zip_code,2) as zip_code_2\n-- ,left(zip_code,1) as region\nfrom demos_genie.mfg_product_warranty.product_info"},{"name":"004e6e3f","displayName":"social","query":"SELECT *\n, ai_analyze_sentiment(post_full) AS sentiment\nFROM demos_genie.mfg_product_warranty.social"},{"name":"f0f2d2de","displayName":"us_weather_postal_daily_imperial","query":"SELECT\n  left(POSTAL_CODE,2) as region,\n  avg(TEMPERATURE_AVG) as TEMPERATURE_AVG,\n  percentile(TEMPERATURE_MIN,.15) as TEMPERATURE_MIN,\n  percentile(TEMPERATURE_MAX,.85) as TEMPERATURE_MAX\nFROM\n  demos_genie.mfg_product_warranty.us_postal_daynight_imperial\n  group by all"},{"name":"4c6b5ae5","displayName":"warranty","query":"SELECT * FROM VALUES \n(2020, 3, 36000, 5, 60000, 5, 60000, 5, 99999999, 8, 100000),\n(2021, 3, 36000, 5, 60000, 5, 60000, 5, 99999999, 8, 100000),\n(2022, 3, 36000, 5, 60000, 5, 60000, 5, 99999999, 8, 120000)\nAS warranty(model_year, bumper_to_bumper_years, bumper_to_bumper_miles, powertrain_years, powertrain_miles, safety_restraint_system_years, safety_restraint_system_miles, corrosion_perforation_years, corrosion_perforation_miles, electrical_component_years, electrical_component_miles);"},{"name":"1910fa8d","displayName":"battery cycle data","query":"SELECT\n  p.*\n  ,left(p.zip_code,1) as region\n  ,c.cycle_count\n  ,100*c.est_normalized_cap_pct as est_battery_cap_remaining_pct\nFROM\n  demos_genie.mfg_product_warranty.product_info p\n  JOIN demos_genie.mfg_product_warranty.cycle_data c ON p.serial_number = c.serial_number"}],"pages":[{"name":"3a844446","displayName":"New Page","layout":[{"widget":{"name":"d0c815b8","queries":[{"name":"main_query","query":{"datasetName":"e1d10590","fields":[{"name":"battery_assembly_code","expression":"`battery_assembly_code`"},{"name":"model_year","expression":"`model_year`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"model_year","scale":{"type":"categorical"},"displayName":"model_year"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"axis":{"title":"Batteries Produced"},"displayName":"Batteries Produced"},"color":{"fieldName":"battery_assembly_code","scale":{"type":"categorical"},"displayName":"battery_assembly_code"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Production by Battery Assembly Location"},"mark":{"layout":"group"}}},"position":{"x":0,"y":3,"width":3,"height":6}},{"widget":{"name":"1bedd59c","queries":[{"name":"main_query","query":{"datasetName":"e1d10590","fields":[{"name":"final_assembly_code","expression":"`final_assembly_code`"},{"name":"model_year","expression":"`model_year`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"model_year","scale":{"type":"categorical"},"displayName":"model_year"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Count of Records"},"color":{"fieldName":"final_assembly_code","scale":{"type":"categorical"},"displayName":"final_assembly_code"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Production by Final Assembly Location","showDescription":false},"mark":{"layout":"percent-stack"}}},"position":{"x":3,"y":3,"width":3,"height":6}},{"widget":{"name":"3c7a0c2d","queries":[{"name":"main_query","query":{"datasetName":"004e6e3f","fields":[{"name":"model_year","expression":"`model_year`"},{"name":"post_full","expression":"`post_full`"},{"name":"temp_cold","expression":"`temp_cold`"},{"name":"zip_code","expression":"`zip_code`"},{"name":"sentiment","expression":"`sentiment`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"model_year","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":0,"title":"model_year","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"model_year"},{"fieldName":"post_full","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":1,"title":"post_full","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"post_full"},{"fieldName":"temp_cold","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"boolean","displayAs":"boolean","visible":true,"order":2,"title":"temp_cold","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"temp_cold"},{"fieldName":"zip_code","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":3,"title":"zip_code","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"zip_code"},{"fieldName":"sentiment","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":4,"title":"sentiment","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"sentiment"}]},"invisibleColumns":[],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false,"frame":{"showTitle":true,"title":"Sample of Recent Social Media Posts"}}},"position":{"x":0,"y":19,"width":3,"height":6}},{"widget":{"name":"c7fedb7a","queries":[{"name":"main_query","query":{"datasetName":"e1d10590","fields":[{"name":"count(*)","expression":"COUNT(`*`)"},{"name":"model_year","expression":"`model_year`"}],"cubeGroupingSets":{"sets":[{},{"fieldNames":["model_year"]}]},"disaggregated":false,"orders":[{"direction":"ASC","expression":"`model_year`"}]}}],"spec":{"version":3,"widgetType":"pivot","encodings":{"columns":[{"fieldName":"model_year","displayName":"model_year"}],"cell":{"type":"multi-cell","fields":[{"fieldName":"count(*)","cellType":"text","displayName":"Count of Records"}]}},"frame":{"showDescription":false,"showTitle":true,"description":"","title":"Production Count by Model Year"}}},"position":{"x":3,"y":0,"width":3,"height":3}},{"widget":{"name":"9920cc3d","textbox_spec":"# Battery Electric Vehicle Customer Satisfaction\n## 25H01"},"position":{"x":0,"y":0,"width":3,"height":3}},{"widget":{"name":"88936dce","textbox_spec":"# Environmental Conditions on Battery Performance"},"position":{"x":0,"y":25,"width":6,"height":2}},{"widget":{"name":"a74ba34d","textbox_spec":"# Social Media Feedback\n## Prompt : stacked bar chart with count of social sentiment per model year.  Use green for \"positive\", red for \"negative\""},"position":{"x":0,"y":17,"width":6,"height":2}},{"widget":{"name":"f0081648","textbox_spec":"# Battery Capacity Trend"},"position":{"x":0,"y":9,"width":5,"height":2}},{"widget":{"name":"36eca2c2","textbox_spec":"Battery rated for 250 miles per charge cycle.\n\n500 cycles = 125k miles"},"position":{"x":5,"y":9,"width":1,"height":2}},{"widget":{"name":"11c4c822","queries":[{"name":"main_query","query":{"datasetName":"4c6b5ae5","fields":[{"name":"model_year","expression":"`model_year`"},{"name":"electrical_component_years","expression":"`electrical_component_years`"},{"name":"electrical_component_miles","expression":"`electrical_component_miles`"},{"name":"powertrain_years","expression":"`powertrain_years`"},{"name":"powertrain_miles","expression":"`powertrain_miles`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"model_year","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":0,"title":"model_year","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"model_year"},{"fieldName":"electrical_component_years","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":1,"title":"electrical_component_years","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"electrical_component_years"},{"fieldName":"electrical_component_miles","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":2,"title":"electrical_component_miles","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"electrical_component_miles"},{"fieldName":"powertrain_years","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":3,"title":"powertrain_years","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"powertrain_years"},{"fieldName":"powertrain_miles","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":4,"title":"powertrain_miles","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"powertrain_miles"}]},"invisibleColumns":[{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"bumper_to_bumper_years","type":"integer","displayAs":"number","order":5,"title":"bumper_to_bumper_years","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"bumper_to_bumper_miles","type":"integer","displayAs":"number","order":6,"title":"bumper_to_bumper_miles","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"safety_restraint_system_years","type":"integer","displayAs":"number","order":7,"title":"safety_restraint_system_years","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"safety_restraint_system_miles","type":"integer","displayAs":"number","order":8,"title":"safety_restraint_system_miles","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"corrosion_perforation_years","type":"integer","displayAs":"number","order":9,"title":"corrosion_perforation_years","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"corrosion_perforation_miles","type":"integer","displayAs":"number","order":10,"title":"corrosion_perforation_miles","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false,"frame":{"showTitle":true,"title":"Warranty by Model Year"}}},"position":{"x":3,"y":11,"width":3,"height":6}},{"widget":{"name":"6cb6ea61","queries":[{"name":"main_query","query":{"datasetName":"1910fa8d","fields":[{"name":"cycle_count","expression":"`cycle_count`"},{"name":"percentile(est_battery_cap_remaining_pct, percentage=0_25)","expression":"PERCENTILE(`est_battery_cap_remaining_pct`, 0.25)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"line","encodings":{"x":{"fieldName":"cycle_count","scale":{"type":"quantitative"},"displayName":"cycle_count"},"y":{"fieldName":"percentile(est_battery_cap_remaining_pct, percentage=0_25)","scale":{"type":"quantitative"},"displayName":"25th Percentile of est_battery_cap_remaining_pct"}},"frame":{"showTitle":true,"title":"Battery Capacity Remaining by Cycle Count"}}},"position":{"x":0,"y":11,"width":3,"height":6}},{"widget":{"name":"df4e02ce","textbox_spec":"- line chart of average capacity remaining by cycle count by model year. \n- line chart of average capacity remaining by cycle count by region. \n- line chart of average capacity remaining by cycle count by assembly plant\n- line chart of average capacity remaining by cycle count by battery assembly code. \n"},"position":{"x":0,"y":27,"width":6,"height":2}},{"widget":{"name":"faa15746","queries":[{"name":"main_query","query":{"datasetName":"004e6e3f","fields":[{"name":"sentiment","expression":"`sentiment`"},{"name":"model_year","expression":"`model_year`"},{"name":"count(sentiment)","expression":"COUNT(`sentiment`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"model_year","scale":{"type":"categorical","sort":{"by":"y-reversed"}},"displayName":"model_year"},"y":{"fieldName":"count(sentiment)","scale":{"type":"quantitative"},"displayName":"Count of sentiment"},"color":{"fieldName":"sentiment","scale":{"type":"categorical","mappings":[{"value":"positive","color":"#00A972"},{"value":"negative","color":"#FF3621"}]},"displayName":"sentiment"}},"frame":{"title":"Count of social sentiment per model year","showTitle":true}}},"position":{"x":3,"y":19,"width":3,"height":6}}]}]}